# Task 1.1: QRIS.id Merchant Registration

## üéØ Goal

Register Nakafa as a QRIS.id merchant and obtain API credentials for Indonesian payment processing.

## üìç Context

**Why QRIS.id:**
- Official QRIS provider (Bank Indonesia approved)
- 0.7% transaction fee (cheapest option)
- All e-wallets supported (GoPay, OVO, DANA, ShopeePay)
- All mobile banking supported (BCA, Mandiri, BNI)
- REST API available for automation

**Timeline:**
- Registration: Immediate
- Approval: 1-14 days (business days only)
- API access: After approval

**Blocking:** This task blocks all QRIS integration work

## PRD

```json
{
  "category": "integration",
  "description": "Register QRIS.id merchant account and obtain API credentials",
  "steps": [
    "Complete merchant registration form",
    "Submit required documents (KTP, NPWP if available)",
    "Apply for Open API access",
    "Wait for approval (1-14 days)",
    "Receive API credentials via email"
  ],
  "passes": false
}
```

## üé¨ Success Criteria

- [ ] Merchant account created at QRIS.id
- [ ] Open API application submitted
- [ ] Approval received (status: approved)
- [ ] API credentials received (apikey, mID, NMID)
- [ ] Credentials stored securely (not in git)

## Commands

```bash
# No code commands for this task
# Manual registration process
```

## üìù Subtasks

### Subtask 1.1.1: Complete Merchant Registration

Register Nakafa as a QRIS.id merchant.

**URL**: https://interactive.co.id/qris/register

**Required Information:**
- Business name: PT Nakafa Teknologi Indonesia (or your entity name)
- Business type: Technology / Education
- Contact person: [Your name]
- Email: [Your business email]
- Phone: [Your phone number]
- Address: [Your business address]

**Documents Needed:**
- KTP (Identity card) - required
- NPWP (Tax ID) - if available
- Business registration documents - if PT/CV

**Steps:**
1. Go to https://interactive.co.id/qris/register
2. Fill in all required fields
3. Upload KTP and other documents
4. Submit registration
5. Save registration reference number

**Output**: Registration submitted, reference number saved

---

### Subtask 1.1.2: Apply for Open API Access

Apply for QRIS.id Open API to enable programmatic payment creation.

**URL**: https://qris.interactive.co.id/homepage/daftar-open-api-qris.php

**Required Information:**
- Same as merchant registration
- Use case description: "Educational platform for Indonesian students"
- Expected transaction volume: [Estimate monthly transactions]
- Technical contact: [Developer email]

**Steps:**
1. Go to https://qris.interactive.co.id/homepage/daftar-open-api-qris.php
2. Fill Open API application form
3. Describe use case: "Subscription payments for educational content platform"
4. Submit application
5. Wait for email confirmation

**Output**: Open API application submitted

---

### Subtask 1.1.3: Wait for Approval

Monitor email for approval notification.

**Timeline:**
- Minimum: 1 business day
- Maximum: 14 business days
- Average: 3-5 business days

**What to Expect:**
1. Initial confirmation email (within 24 hours)
2. Document verification (if needed)
3. Approval email with credentials
4. Or rejection with reason (rare if documents complete)

**Follow-up:**
- If no response after 7 days: WhatsApp 0898-2323-237
- Reference your registration number
- Be polite and professional

**Output**: Approval received or follow-up initiated

---

### Subtask 1.1.4: Store Credentials Securely

Store API credentials in environment variables (not in code).

**Credentials to Receive:**
- `apikey`: Your API authentication key
- `mID`: Merchant ID
- `NMID`: National Merchant ID (for display on QR)

**Storage:**

```bash
# Add to packages/backend/.env.local (never commit this file)
QRIS_API_KEY=your_api_key_here
QRIS_MID=your_merchant_id_here
QRIS_NMID=your_national_merchant_id_here
```

**Security:**
- ‚úÖ Add `.env.local` to `.gitignore`
- ‚úÖ Never log the API key
- ‚úÖ Never share credentials
- ‚úÖ Rotate quarterly (see docs/internal-key-rotation.md)

**Output**: Credentials stored securely, ready for integration

---

## üöÄ Next Steps

After completing this task:

1. **Next task**: Task 1.2 - Implement QRIS.id Backend Integration
2. **Can proceed**: While waiting for approval, implement Polar update ($8.99)

## üîó Related Tasks

- Task 1.2: QRIS.id Backend Integration (needs credentials)
- Task 1.3: Frontend Checkout (needs working backend)
- Task 0.2: Polar Pricing Update (can run in parallel)

## ‚ö†Ô∏è Important Notes

### Approval Tips

- **Complete documents**: Ensure KTP is clear and valid
- **Business email**: Use professional email (not Gmail)
- **Clear use case**: Explain educational purpose clearly
- **Be patient**: Approval takes time, don't spam follow-ups

### Fallback Plan

If QRIS.id approval takes too long:

1. **Week 1**: Use manual bank transfer (BCA/Mandiri)
2. **Week 2+**: Switch to QRIS.id once approved
3. **Migration**: Manual payments can be migrated to automated

### Cost Structure

**QRIS.id Fees:**
- Transaction fee: 0.7% (Rp 623 per Rp 89K payment)
- No monthly fees
- No setup fees
- Settlement: T+1 (next day)

**Example:**
- Customer pays: Rp 89,000
- You receive: Rp 88,377 (after 0.7% fee)
- Your cost: Rp 623

### Progress Tracking

After completing this task, update `plans/gtm-pricing-strategy/progress.txt`:

```txt
[YYYY-MM-DD HH:mm] Task 1.1 completed

Key decisions:
- Registered as [business type]
- Applied for Open API access
- Credentials stored in .env.local

Files changed:
- packages/backend/.env.local (updated)

Blockers/notes:
- Waiting for approval (expected: 3-5 days)
- Fallback: Manual bank transfer if delayed
```
