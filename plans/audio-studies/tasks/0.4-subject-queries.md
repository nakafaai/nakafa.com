# Task 0.4: Create Subject Sections Query

## Goal
Add getById query for audio script generation.

## File
`packages/backend/convex/subjectSections/queries.ts`

## Implementation

```typescript
import { internalQuery } from "@repo/backend/convex/_generated/server";
import { localeValidator } from "@repo/backend/convex/lib/contentValidators";
import { vv } from "@repo/backend/convex/lib/validators";
import { nullable } from "convex-helpers/validators";
import { v } from "convex/values";

export const getById = internalQuery({
  args: {
    id: vv.id("subjectSections"),
  },
  returns: nullable(
    v.object({
      title: v.string(),
      description: v.optional(v.string()),
      body: v.string(),
      locale: localeValidator,
      contentHash: v.string(),
    })
  ),
  handler: async (ctx, args) => {
    const section = await ctx.db.get(args.id);
    if (!section) {
      return null;
    }
    return {
      title: section.title,
      description: section.description,
      body: section.body,
      locale: section.locale,
      contentHash: section.contentHash,
    };
  },
});
```

## Notes

- Uses `vv.id()` from convex-helpers for type-safe table IDs in functions
- Uses `nullable()` from convex-helpers for cleaner union with null
- Uses shared `localeValidator` from contentValidators
- No explicit return type on handler - Convex infers from `returns` validator

## Commands
```bash
pnpm --filter @repo/backend typecheck
```
