import { getColor } from "@repo/design-system/lib/color";
import { LineEquation } from "@repo/contents/_components/line-equation";

export const metadata = {
  title: "Pemodelan Fungsi Piecewise",
  authors: [{ name: "Nabil Akbarazzima Fatih" }],
  date: "05/18/2025",
  subject: "Fungsi dan Pemodelannya",
};

## Pengertian Fungsi Piecewise

Fungsi piecewise (fungsi sepotong-sepotong) adalah fungsi yang didefinisikan oleh beberapa persamaan berbeda pada interval-interval tertentu dari domainnya. Setiap "potongan" fungsi berlaku pada bagian domain yang spesifik.

### Definisi Matematika

Fungsi piecewise dapat ditulis dalam bentuk:

<BlockMath math="f(x) = \begin{cases} f_1(x), & \text{jika } x \in D_1 \\ f_2(x), & \text{jika } x \in D_2 \\ f_3(x), & \text{jika } x \in D_3 \\ \vdots \\ f_n(x), & \text{jika } x \in D_n \end{cases}" />

dengan <InlineMath math="D_1, D_2, D_3, \ldots, D_n" /> adalah interval-interval yang membentuk partisi dari domain fungsi.

**Karakteristik fungsi piecewise:**

- Terdiri dari beberapa persamaan berbeda
- Setiap persamaan berlaku pada interval tertentu
- Dapat kontinu atau diskontinu
- Interval-interval tidak saling tumpang tindih

## Jenis-jenis Fungsi Piecewise

### Fungsi Piecewise Linear

Fungsi piecewise linear adalah fungsi yang setiap potongannya merupakan fungsi linear.

<LineEquation
  title="Fungsi Piecewise Linear"
  description="Contoh fungsi piecewise linear dengan tiga potongan berbeda."
  data={[
    {
      points: Array.from({ length: 21 }, (_, i) => {
        const x = -2 + i * 0.1;
        return { x, y: 2 * x + 3, z: 0 };
      }),
      color: getColor("PURPLE"),
      showPoints: false,
      labels: [{ text: "y = 2x + 3", at: 10, offset: [-1.5, 1, 0] }],
    },
    {
      points: Array.from({ length: 21 }, (_, i) => {
        const x = 0 + i * 0.1;
        return { x, y: -x + 3, z: 0 };
      }),
      color: getColor("ORANGE"),
      showPoints: false,
      labels: [{ text: "y = -x + 3", at: 10, offset: [1, 1, 0] }],
    },
    {
      points: Array.from({ length: 21 }, (_, i) => {
        const x = 2 + i * 0.1;
        return { x, y: 0.5 * x, z: 0 };
      }),
      color: getColor("CYAN"),
      showPoints: false,
      labels: [{ text: "y = 0.5x", at: 10, offset: [1, -0.5, 0] }],
    },
  ]}
  cameraPosition={[0, 0, 12]}
  showZAxis={false}
/>

Fungsi di atas dapat ditulis sebagai:

<BlockMath math="f(x) = \begin{cases} 2x + 3, & \text{jika } -2 \leq x < 0 \\ -x + 3, & \text{jika } 0 \leq x < 2 \\ 0.5x, & \text{jika } x \geq 2 \end{cases}" />

### Fungsi Piecewise Kuadratik

Fungsi piecewise dapat juga mengandung potongan-potongan kuadratik atau kombinasi linear dan kuadratik.

<LineEquation
  title="Fungsi Piecewise Kombinasi"
  description="Kombinasi fungsi kuadratik dan linear dalam satu fungsi piecewise."
  data={[
    {
      points: Array.from({ length: 31 }, (_, i) => {
        const x = -3 + i * 0.1;
        return { x, y: x * x, z: 0 };
      }),
      color: getColor("VIOLET"),
      showPoints: false,
      labels: [{ text: "y = xÂ²", at: 15, offset: [-1, -1, 0] }],
    },
    {
      points: Array.from({ length: 31 }, (_, i) => {
        const x = 0 + i * 0.1;
        return { x, y: 2 * x, z: 0 };
      }),
      color: getColor("TEAL"),
      showPoints: false,
      labels: [{ text: "y = 2x", at: 15, offset: [1, -1, 0] }],
    },
  ]}
  cameraPosition={[0, 0, 12]}
  showZAxis={false}
/>

## Kontinuitas Fungsi Piecewise

### Fungsi Piecewise Kontinu

Fungsi piecewise dikatakan kontinu jika tidak ada "lompatan" pada titik-titik sambungan antar potongan.

Syarat kontinuitas di titik <InlineMath math="x = c" />:

<BlockMath math="\lim_{x \to c^-} f(x) = \lim_{x \to c^+} f(x) = f(c)" />

**Contoh fungsi piecewise kontinu:**

<BlockMath math="f(x) = \begin{cases} x + 1, & \text{jika } x < 2 \\ 3, & \text{jika } x = 2 \\ 5 - x, & \text{jika } x > 2 \end{cases}" />

Untuk kontinu di <InlineMath math="x = 2" />:

- <InlineMath math="\lim_{x \to 2^-} (x + 1) = 3" />
- <InlineMath math="\lim_{x \to 2^+} (5 - x) = 3" />
- <InlineMath math="f(2) = 3" />

### Fungsi Piecewise Diskontinu

Fungsi piecewise diskontinu memiliki "lompatan" atau "lubang" pada titik-titik tertentu.

<LineEquation
  title="Fungsi Piecewise Diskontinu"
  description={
    <>
      Contoh fungsi dengan diskontinuitas lompat di <InlineMath math="x = 1" />.
    </>
  }
  data={[
    {
      points: Array.from({ length: 21 }, (_, i) => {
        const x = -2 + i * 0.1;
        return { x, y: x + 2, z: 0 };
      }),
      color: getColor("ROSE"),
      showPoints: false,
      labels: [{ text: "y = x + 2", at: 10, offset: [-1, 1, 0] }],
    },
    {
      points: Array.from({ length: 21 }, (_, i) => {
        const x = 1 + i * 0.1;
        return { x, y: 2 * x - 3, z: 0 };
      }),
      color: getColor("AMBER"),
      showPoints: false,
      labels: [{ text: "y = 2x - 3", at: 10, offset: [1, 1, 0] }],
    },
  ]}
  cameraPosition={[0, 0, 12]}
  showZAxis={false}
/>

## Pemodelan dengan Fungsi Piecewise

### Tarif Progresif

Banyak situasi nyata dapat dimodelkan dengan fungsi piecewise, seperti tarif pajak progresif atau biaya parkir bertingkat.

**Contoh: Tarif Listrik**

Perusahaan listrik menerapkan tarif bertingkat:

- 0-50 kWh: Rp 1.000/kWh
- 51-100 kWh: Rp 1.500/kWh
- > 100 kWh: Rp 2.000/kWh

Model matematikanya:

<BlockMath math="C(x) = \begin{cases} 1000x, & \text{jika } 0 \leq x \leq 50 \\ 50000 + 1500(x-50), & \text{jika } 50 < x \leq 100 \\ 125000 + 2000(x-100), & \text{jika } x > 100 \end{cases}" />

**Tabel biaya listrik:**

| Pemakaian (kWh) | 30     | 50     | 75     | 100     | 150     |
| --------------- | ------ | ------ | ------ | ------- | ------- |
| Biaya (Rp)      | 30.000 | 50.000 | 87.500 | 125.000 | 225.000 |

### Kecepatan Bertahap

**Contoh: Perjalanan Multi-Moda**

Seseorang melakukan perjalanan dengan:

- Berjalan kaki: 5 km/jam selama 0,5 jam
- Naik sepeda: 15 km/jam selama 1 jam
- Naik mobil: 60 km/jam selama 0,5 jam

Fungsi jarak terhadap waktu:

<BlockMath math="s(t) = \begin{cases} 5t, & \text{jika } 0 \leq t \leq 0.5 \\ 2.5 + 15(t-0.5), & \text{jika } 0.5 < t \leq 1.5 \\ 17.5 + 60(t-1.5), & \text{jika } 1.5 < t \leq 2 \end{cases}" />

## Menentukan Persamaan Fungsi Piecewise

Untuk menentukan persamaan fungsi piecewise dari grafik atau situasi:

1. **Identifikasi interval-interval** domain
2. **Tentukan persamaan** untuk setiap interval
3. **Periksa kontinuitas** di titik sambungan
4. **Tulis dalam notasi piecewise**

**Contoh:**

Dari grafik yang menunjukkan:

- Garis dengan kemiringan 2 dari x = -2 hingga x = 0
- Garis horizontal y = 4 dari x = 0 hingga x = 2
- Garis dengan kemiringan -1 dari x = 2 hingga x = 4

Langkah penyelesaian:

1. Interval 1: <InlineMath math="[-2, 0)" />

   - Melalui (-2, 0) dengan kemiringan 2
   - Persamaan: <InlineMath math="y = 2(x + 2) = 2x + 4" />

2. Interval 2: <InlineMath math="[0, 2)" />

   - Garis horizontal
   - Persamaan: <InlineMath math="y = 4" />

3. Interval 3: <InlineMath math="[2, 4]" />
   - Melalui (2, 4) dengan kemiringan -1
   - Persamaan: <InlineMath math="y = -1(x - 2) + 4 = -x + 6" />

Fungsi piecewise:

<BlockMath math="f(x) = \begin{cases} 2x + 4, & \text{jika } -2 \leq x < 0 \\ 4, & \text{jika } 0 \leq x < 2 \\ -x + 6, & \text{jika } 2 \leq x \leq 4 \end{cases}" />

## Latihan

1. Tentukan nilai <InlineMath math="f(1)" />, <InlineMath math="f(3)" />, dan <InlineMath math="f(5)" /> untuk fungsi:

   <BlockMath math="f(x) = \begin{cases} x^2, & \text{jika } x < 2 \\ 2x + 1, & \text{jika } 2 \leq x < 4 \\ 9, & \text{jika } x \geq 4 \end{cases}" />

2. Sebuah perusahaan taksi online menerapkan tarif:

   - Tarif dasar: Rp 10.000 (untuk 2 km pertama)
   - Km 3-10: Rp 4.000/km
   - Di atas 10 km: Rp 3.000/km

   Buatlah model fungsi piecewise untuk total biaya!

3. Tentukan apakah fungsi berikut kontinu di <InlineMath math="x = 1" />:

   <BlockMath math="g(x) = \begin{cases} 3x - 1, & \text{jika } x < 1 \\ 2, & \text{jika } x = 1 \\ x + 1, & \text{jika } x > 1 \end{cases}" />

4. Sketsa grafik fungsi:

   <BlockMath math="h(x) = \begin{cases} -x + 2, & \text{jika } x < 0 \\ x^2, & \text{jika } 0 \leq x < 2 \\ 4, & \text{jika } x \geq 2 \end{cases}" />

5. Seorang pekerja dibayar dengan sistem:

   - 8 jam pertama: Rp 50.000/jam
   - Lembur (jam ke-9 dst): Rp 75.000/jam

   Jika maksimal kerja 12 jam/hari, buatlah fungsi upah harian!

### Kunci Jawaban

1. **Menghitung nilai fungsi:**

   Untuk <InlineMath math="f(1)" />: karena <InlineMath math="1 < 2" />, gunakan <InlineMath math="f(x) = x^2" />

   <BlockMath math="f(1) = 1^2 = 1" />

   Untuk <InlineMath math="f(3)" />: karena <InlineMath math="2 \leq 3 < 4" />, gunakan <InlineMath math="f(x) = 2x + 1" />

   <BlockMath math="f(3) = 2(3) + 1 = 7" />

   Untuk <InlineMath math="f(5)" />: karena <InlineMath math="5 \geq 4" />, gunakan <InlineMath math="f(x) = 9" />

   <BlockMath math="f(5) = 9" />

2. **Model tarif taksi:**

   Misalkan <InlineMath math="x" /> adalah jarak dalam km, maka:

   <div className="flex flex-col gap-4">
     <BlockMath math="C(x) = \begin{cases} 10000, & \text{jika } 0 < x \leq 2 \\ 10000 + 4000(x-2), & \text{jika } 2 < x \leq 10 \\ 10000 + 32000 + 3000(x-10), & \text{jika } x > 10 \end{cases}" />
   </div>

   Atau disederhanakan:

   <div className="flex flex-col gap-4">
     <BlockMath math="C(x) = \begin{cases} 10000, & \text{jika } 0 < x \leq 2 \\ 4000x + 2000, & \text{jika } 2 < x \leq 10 \\ 3000x + 12000, & \text{jika } x > 10 \end{cases}" />
   </div>

3. **Memeriksa kontinuitas:**

   Di <InlineMath math="x = 1" />:

   <div className="flex flex-col gap-4">
     <BlockMath math="\lim_{x \to 1^-} g(x) = \lim_{x \to 1^-} (3x - 1) = 3(1) - 1 = 2" />
     <BlockMath math="\lim_{x \to 1^+} g(x) = \lim_{x \to 1^+} (x + 1) = 1 + 1 = 2" />
     <BlockMath math="g(1) = 2" />
   </div>

   Karena <InlineMath math="\lim_{x \to 1^-} g(x) = \lim_{x \to 1^+} g(x) = g(1) = 2" />, maka fungsi **kontinu** di <InlineMath math="x = 1" />.

4. **Sketsa grafik <InlineMath math="h(x)" />:**

   <LineEquation
     title={
       <>
         Grafik Fungsi <InlineMath math="h(x)" />
       </>
     }
     description={
       <>
         Fungsi piecewise dengan tiga bagian: linear menurun, kuadratik, dan
         konstan
       </>
     }
     data={[
       {
         points: Array.from({ length: 21 }, (_, i) => {
           const x = -2 + i * 0.1;
           return { x, y: -x + 2, z: 0 };
         }),
         color: getColor("PURPLE"),
         showPoints: false,
         labels: [{ text: "y = -x + 2", at: 10, offset: [0, 0.5, 0] }],
       },
       {
         points: Array.from({ length: 21 }, (_, i) => {
           const x = 0 + i * 0.1;
           return { x, y: x * x, z: 0 };
         }),
         color: getColor("ORANGE"),
         showPoints: false,
         labels: [{ text: "y = xÂ²", at: 10, offset: [0, 0.5, 0] }],
       },
       {
         points: Array.from({ length: 21 }, (_, i) => {
           const x = 2 + i * 0.1;
           return { x, y: 4, z: 0 };
         }),
         color: getColor("CYAN"),
         showPoints: false,
         labels: [{ text: "y = 4", at: 10, offset: [0, 0.5, 0] }],
       },
     ]}
     cameraPosition={[0, 0, 12]}
     showZAxis={false}
   />

5. **Fungsi upah harian:**

   Misalkan <InlineMath math="t" /> adalah jam kerja, maka:

   <div className="flex flex-col gap-4">
     <BlockMath math="U(t) = \begin{cases} 50000t, & \text{jika } 0 < t \leq 8 \\ 400000 + 75000(t-8), & \text{jika } 8 < t \leq 12 \end{cases}" />
   </div>

   Atau disederhanakan:

   <div className="flex flex-col gap-4">
     <BlockMath math="U(t) = \begin{cases} 50000t, & \text{jika } 0 < t \leq 8 \\ 75000t - 200000, & \text{jika } 8 < t \leq 12 \end{cases}" />
   </div>
