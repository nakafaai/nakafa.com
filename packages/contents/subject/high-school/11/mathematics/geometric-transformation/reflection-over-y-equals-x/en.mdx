import { getColor } from "@repo/design-system/lib/color";
import { LineEquation } from "@repo/design-system/components/contents/line-equation";

export const metadata = {
  title: "Reflection over Line y = x",
  authors: [{ name: "Nabil Akbarazzima Fatih" }],
  date: "05/10/2025",
  subject: "Geometric Transformation",
};

## Understanding Reflection over the Line y = x

Reflection over the line <InlineMath math="y = x" /> is a geometric transformation that maps every point of an object to a new position with the line <InlineMath math="y = x" /> acting as a mirror.

The distance from the original point to the mirror line is equal to the distance from the image point to the mirror line, and the line connecting the original point to its image will be perpendicular to the line <InlineMath math="y = x" />.

### Rule for Reflection over the Line y = x

If a point <InlineMath math="P(x, y)" /> is reflected over the line <InlineMath math="y = x" />, its image's coordinates, <InlineMath math="P'(x', y')" />, will follow a simple rule:

<div className="flex flex-col gap-4">
  <BlockMath math="x' = y" />
  <BlockMath math="y' = x" />
</div>

Thus, the image of point <InlineMath math="P(x, y)" /> is <InlineMath math="P'(y, x)" />. Notice that the x and y coordinates swap positions.

## Reflecting a Point

Suppose we have point <InlineMath math="A(1, 4)" />. If point A is reflected over the line <InlineMath math="y = x" />, its image, <InlineMath math="A'" />, can be determined by swapping its coordinates:

The original x-coordinate is 1, becoming the new y-coordinate.

The original y-coordinate is 4, becoming the new x-coordinate.

Thus, the image of point A is <InlineMath math="A'(4, 1)" />.

Let's visualize this along with some other points:

<LineEquation
  title={
    <>
      Image of Points over the Line <InlineMath math="y=x" />
    </>
  }
  description={
    <>
      Visualization of the reflection of several points over the line{" "}
      <InlineMath math="y=x" />.
    </>
  }
  data={[
    {
      points: [
        { x: -6, y: -6, z: 0 },
        { x: 6, y: 6, z: 0 },
      ],
      color: getColor("PURPLE"),
      labels: [{ text: "y=x", at: 1, offset: [0.5, -0.5, 0] }],
    }, // Line y=x
    // Point A and A'
    {
      points: [{ x: 1, y: 4, z: 0 }],
      color: getColor("EMERALD"),
      showPoints: true,
      labels: [{ text: "A(1,4)", at: 0, offset: [0.3, 0.3, 0] }],
    },
    {
      points: [{ x: 4, y: 1, z: 0 }],
      color: getColor("EMERALD"), // Keeping color consistent for original and image as per user's id.mdx edit pattern
      showPoints: true,
      labels: [{ text: "A'(4,1)", at: 0, offset: [0.3, 0.3, 0] }],
    },
    // Point B and B'
    {
      points: [{ x: -2, y: 2, z: 0 }],
      color: getColor("AMBER"),
      showPoints: true,
      labels: [{ text: "B(-2,2)", at: 0, offset: [0.3, 0.3, 0] }],
    },
    {
      points: [{ x: 2, y: -2, z: 0 }],
      color: getColor("AMBER"),
      showPoints: true,
      labels: [{ text: "B'(2,-2)", at: 0, offset: [0.3, 0.3, 0] }],
    },
    // Point C and C'
    {
      points: [{ x: -1, y: -3, z: 0 }],
      color: getColor("ROSE"),
      showPoints: true,
      labels: [{ text: "C(-1,-3)", at: 0, offset: [0.3, 0.3, 0] }],
    },
    {
      points: [{ x: -3, y: -1, z: 0 }],
      color: getColor("ROSE"),
      showPoints: true,
      labels: [{ text: "C'(-3,-1)", at: 0, offset: [0.3, 0.3, 0] }],
    },
  ]}
  showZAxis={false}
  cameraPosition={[0, 0, 15]}
/>

## Reflecting a Triangle

Determine the image of triangle ABC with vertices <InlineMath math="A(-2,4)" />, <InlineMath math="B(3,1)" />, and <InlineMath math="C(-3,-1)" /> reflected over the line <InlineMath math="y=x" />.

To reflect the triangle, we reflect each of its vertices over the line <InlineMath math="y=x" />:

1.  Point <InlineMath math="A(-2, 4)" />: Its image is <InlineMath math="A'(4, -2)" />.
2.  Point <InlineMath math="B(3, 1)" />: Its image is <InlineMath math="B'(1, 3)" />.
3.  Point <InlineMath math="C(-3, -1)" />: Its image is <InlineMath math="C'(-1, -3)" />.

The image triangle <InlineMath math="A'B'C'" /> is formed by connecting the points <InlineMath math="A'(4, -2)" />, <InlineMath math="B'(1, 3)" />, and <InlineMath math="C'(-1, -3)" />.

<LineEquation
  title={
    <>
      Triangle <InlineMath math="ABC" /> and its Image{" "}
      <InlineMath math="A'B'C'" /> over <InlineMath math="y=x" />
    </>
  }
  description={
    <>
      Visualization of the reflection of triangle <InlineMath math="ABC" /> over
      the line <InlineMath math="y=x" />.
    </>
  }
  data={[
    {
      points: [
        { x: -7, y: -7, z: 0 },
        { x: 7, y: 7, z: 0 },
      ],
      color: getColor("PURPLE"),
      labels: [{ text: "y=x", at: 1, offset: [0.5, -0.5, 0] }],
    }, // Line y=x
    // Triangle ABC (Original)
    ...[
      {
        from: { x: -2, y: 4, z: 0, label: "A(-2,4)" },
        to: { x: 3, y: 1, z: 0, label: "B(3,1)" },
      },
      {
        from: { x: 3, y: 1, z: 0, label: "B(3,1)" },
        to: { x: -3, y: -1, z: 0, label: "C(-3,-1)" },
      },
      {
        from: { x: -3, y: -1, z: 0, label: "C(-3,-1)" },
        to: { x: -2, y: 4, z: 0, label: "A(-2,4)" },
      },
    ].map((segment) => ({
      points: [segment.from, segment.to],
      color: getColor("AMBER"),
      showPoints: true,
      labels: [{ text: segment.from.label, at: 0, offset: [0.4, 0.4, 0] }],
    })),
    // Triangle A'B'C' (Image)
    ...[
      {
        from: { x: 4, y: -2, z: 0, label: "A'(4,-2)" },
        to: { x: 1, y: 3, z: 0, label: "B'(1,3)" },
      },
      {
        from: { x: 1, y: 3, z: 0, label: "B'(1,3)" },
        to: { x: -1, y: -3, z: 0, label: "C'(-1,-3)" },
      },
      {
        from: { x: -1, y: -3, z: 0, label: "C'(-1,-3)" },
        to: { x: 4, y: -2, z: 0, label: "A'(4,-2)" },
      },
    ].map((segment) => ({
      points: [segment.from, segment.to],
      color: getColor("TEAL"),
      showPoints: true,
      labels: [{ text: segment.from.label, at: 0, offset: [0.4, 0.4, 0] }],
    })),
  ]}
  showZAxis={false}
  cameraPosition={[0, 0, 18]}
/>

## Reflecting a Line Equation

If a line has the equation <InlineMath math="y = 2x + 3" /> is reflected over the line <InlineMath math="y=x" />, determine the equation of its image.

To find the equation of the image, we use the rule <InlineMath math="x' = y" /> and <InlineMath math="y' = x" />. This means we replace every <InlineMath math="x" /> in the original equation with <InlineMath math="y" /> (or <InlineMath math="y'" />) and every <InlineMath math="y" /> with <InlineMath math="x" /> (or <InlineMath math="x'" />).

Original equation:

<BlockMath math="y = 2x + 3" />

Substitute <InlineMath math="x \rightarrow y" /> and <InlineMath math="y \rightarrow x" /> (using <InlineMath math="x" /> and <InlineMath math="y" /> for the new variables for simplicity):

<BlockMath math="x = 2y + 3" />

This is the equation of the image line. Usually, we rewrite this equation in the form <InlineMath math="y" /> as a function of <InlineMath math="x" />:

<div className="flex flex-col gap-4">
  <BlockMath math="x - 3 = 2y" />
  <BlockMath math="y = \frac{1}{2}x - \frac{3}{2}" />
</div>

So, the equation of the image of the line <InlineMath math="y = 2x + 3" /> after reflection over <InlineMath math="y=x" /> is <InlineMath math="y = \frac{1}{2}x - \frac{3}{2}" />.

<LineEquation
  title={
    <>
      Line <InlineMath math="y=2x+3" /> and its Image over{" "}
      <InlineMath math="y=x" />
    </>
  }
  description={
    <>
      Reflection of the line <InlineMath math="y=2x+3" /> over the line{" "}
      <InlineMath math="y=x" />.
    </>
  }
  data={[
    {
      points: [
        { x: -7, y: -7, z: 0 },
        { x: 7, y: 7, z: 0 },
      ],
      color: getColor("INDIGO"),
      labels: [{ text: "y=x", at: 1, offset: [0.5, -0.5, 0] }],
    }, // Line y=x
    {
      // Original Line y = 2x + 3
      points: Array.from({ length: 11 }, (_, i) => {
        const xVal = i - 5;
        return { x: xVal, y: 2 * xVal + 3, z: 0 };
      }),
      color: getColor("PURPLE"),
      smooth: true,
      labels: [{ text: "y=2x+3", at: 4, offset: [-1, 0.5, 0] }],
    },
    {
      // Image Line y = (1/2)x - 3/2
      points: Array.from({ length: 11 }, (_, i) => {
        const xVal = i - 5;
        return { x: xVal, y: (1 / 2) * xVal - 3 / 2, z: 0 };
      }),
      color: getColor("PINK"),
      smooth: true,
      labels: [{ text: "y=(1/2)x-3/2", at: 9, offset: [0.5, -1, 0] }],
    },
  ]}
  showZAxis={false}
  cameraPosition={[0, 0, 18]}
/>

## Exercises

1.  Determine the coordinates of the image of point <InlineMath math="M(-4, 7)" /> if it is reflected over the line <InlineMath math="y = x" />!
2.  Determine the image of triangle ABC with vertices <InlineMath math="A(1, -2)" />, <InlineMath math="B(2, 3)" />, and <InlineMath math="C(-2, 0)" /> reflected over the line <InlineMath math="y = x" />.
3.  If a line has the equation <InlineMath math="y = -3x + 5" /> is reflected over the line <InlineMath math="y = x" />, determine the equation of its image.

### Key Answers

1.  The image of point <InlineMath math="M(-4, 7)" /> is <InlineMath math="M'(7, -4)" />.

    **Explanation:** The x and y coordinates are swapped: <InlineMath math="x' = 7" />, <InlineMath math="y' = -4" />.

2.  The coordinates of the image triangle <InlineMath math="A'B'C'" /> are:

    - <InlineMath math="A'(-2, 1)" /> (from <InlineMath math="A(1, -2)" />)
    - <InlineMath math="B'(3, 2)" /> (from <InlineMath math="B(2, 3)" />)
    - <InlineMath math="C'(0, -2)" /> (from <InlineMath math="C(-2, 0)" />)

3.  The equation of the image of the line <InlineMath math="y = -3x + 5" /> is <InlineMath math="x = -3y + 5" />.

    **Explanation:** Substitute <InlineMath math="x \rightarrow y" /> and <InlineMath math="y \rightarrow x" /> into the original equation:

    <BlockMath math="x = -3y + 5" />

    If converted to the form <InlineMath math="y = mx+c" />:

    <div className="flex flex-col gap-4">
      <BlockMath math="3y = -x + 5" />
      <BlockMath math="y = -\frac{1}{3}x + \frac{5}{3}" />
    </div>
